const n="http://localhost:8080";async function o(t,a){const s=await fetch(t,{headers:{"Content-Type":"application/json",...a?.headers||{}},credentials:"omit",...a});if(!s.ok){const i=await s.text().catch(()=>"");throw new Error(i||`HTTP ${s.status}`)}return(s.headers.get("content-type")||"").includes("application/json")?s.json():s.text()}const e={base:n,get:t=>o(`${n}${t}`),post:(t,a)=>o(`${n}${t}`,{method:"POST",body:a?JSON.stringify(a):void 0}),del:t=>o(`${n}${t}`,{method:"DELETE"}),postMultipart:async(t,a)=>{const s=await fetch(`${n}${t}`,{method:"POST",body:a});if(!s.ok)throw new Error(await s.text());return s.json()}},r={login:(t,a)=>e.post("/admin/login",{user:t,pass:a}),listSymptoms:()=>e.get("/admin/symptoms"),createSymptom:t=>e.post("/admin/symptoms",t),deleteSymptom:t=>e.del(`/admin/symptoms/${t}`),listMedications:()=>e.get("/admin/medications"),createMedication:t=>e.post("/admin/medications",t),deleteMedication:t=>e.del(`/admin/medications/${t}`),listDiseases:()=>e.get("/admin/diseases"),createDisease:t=>e.post("/admin/diseases",t),deleteDisease:t=>e.del(`/admin/diseases/${t}`),listContra:()=>e.get("/admin/contra"),createContra:t=>e.post("/admin/contra",t),deleteContra:(t,a,s)=>e.del(`/admin/contra/${t}/${a}/${s}`),getBasePL:()=>e.get("/admin/basepl"),generateBasePL:()=>e.post("/admin/generate-basepl"),uploadBasePL:async t=>{const a=new FormData;return a.append("file",t),e.postMultipart("/admin/basepl/upload",a)},diagnose:t=>e.post("/diagnose",t),rpaImport:t=>{const a=new FormData;return a.append("file",t),e.postMultipart("/admin/rpa/import",a)}};export{r as a,e as b};
