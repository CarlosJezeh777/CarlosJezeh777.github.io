import{d as _,r,a as t,b as e,h as o,w as f,f as u,i as b,v as g,t as y,j as w,k as h,l as k,H as x,o as a}from"./index-D8wTVrpd.js";const V={class:"container py-5"},C={class:"row justify-content-center"},N={class:"col-md-7 col-lg-6"},P={class:"card shadow-sm border-0"},B={class:"card-body p-4"},R={class:"mb-3"},S=["disabled"],j={key:0},D={key:1,class:"spinner-border spinner-border-sm"},M={key:0,class:"text-danger small mt-2"},T={key:1,class:"text-success small mt-2"},q={class:"text-center mt-3"},E=_({__name:"RegisterView",setup(z){const i=r(""),n=r(!1),l=r(""),d=r(!1);async function m(){n.value=!0,l.value="",d.value=!1;try{await x(i.value),d.value=!0}catch(c){l.value=c?.message??"No se pudo registrar"}finally{n.value=!1}}return(c,s)=>{const p=k("router-link");return a(),t("div",V,[e("div",C,[e("div",N,[e("div",P,[e("div",B,[s[4]||(s[4]=e("h3",{class:"mb-3"},"Registro de Paciente",-1)),s[5]||(s[5]=e("p",{class:"text-muted small"},[o("Para este demo, el registro crea/actualiza la contrase침a del rol "),e("strong",null,"patient"),o(".")],-1)),e("form",{onSubmit:f(m,["prevent"])},[e("div",R,[s[1]||(s[1]=e("label",{class:"form-label"},"Contrase침a",-1)),b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=v=>i.value=v),type:"password",class:"form-control",required:"",minlength:"4"},null,512),[[g,i.value]])]),e("button",{class:"btn btn-primary w-100",disabled:n.value},[n.value?(a(),t("span",D)):(a(),t("span",j,"Crear cuenta"))],8,S),l.value?(a(),t("p",M,y(l.value),1)):u("",!0),d.value?(a(),t("p",T,[...s[2]||(s[2]=[o(" Registro exitoso. Ahora puedes iniciar sesi칩n como ",-1),e("strong",null,"Paciente",-1),o(". ",-1)])])):u("",!0)],32),e("div",q,[w(p,{to:"/"},{default:h(()=>[...s[3]||(s[3]=[o("Volver al inicio de sesi칩n",-1)])]),_:1})])])])])])])}}});export{E as default};
