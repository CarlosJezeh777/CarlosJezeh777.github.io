import{d as h,r as l,c as w,g as k,a as t,b as e,e as x,f as r,h as u,w as C,i as V,v as A,t as b,j as L,k as N,l as S,u as M,m as P,o as a,n as j,_ as B}from"./index-D8wTVrpd.js";const D={class:"container-fluid vh-100 d-flex align-items-center justify-content-center bg-light"},E={class:"row w-100 justify-content-center"},q={class:"col-md-8 col-lg-6"},z={class:"card shadow-lg border-0"},I={class:"card-body p-5"},R={class:"row g-3"},T={class:"col-12"},$={key:1,class:"border rounded p-4 bg-light"},H={class:"mb-3"},U={class:"d-flex gap-2"},F=["disabled"],G={key:0},J={key:1,class:"spinner-border spinner-border-sm"},K={key:0,class:"text-danger small mt-2"},O={class:"text-center mt-3"},Q={key:0,class:"text-center mt-4"},W={class:"small text-muted mt-1"},X=h({__name:"LoginView",setup(Y){const m=M(),o=l(!1),d=l(""),n=l(!1),i=l(""),v=w(()=>k());function g(){console.log("si entra"),m.push({name:"patient"})}async function _(){i.value="",n.value=!0;try{await j("admin",d.value),m.push({name:"admin"})}catch(p){i.value=p?.message??"Error al iniciar sesión"}finally{n.value=!1}}function f(){P()}return(p,s)=>{const y=S("router-link");return a(),t("div",D,[e("div",E,[e("div",q,[e("div",z,[e("div",I,[s[7]||(s[7]=x('<div class="text-center mb-4" data-v-5e1a3387><h1 class="h2 text-primary fw-bold mb-3" data-v-5e1a3387>MediLogic</h1><p class="text-muted" data-v-5e1a3387>Sistema de apoyo diagnóstico preliminar</p></div><div class="alert alert-info border-0 mb-4" data-v-5e1a3387><p class="mb-2" data-v-5e1a3387><strong data-v-5e1a3387>Herramienta de apoyo diagnóstico</strong> que utiliza inteligencia artificial para proporcionar sugerencias médicas preliminares basadas en síntomas. </p><p class="mb-0 small" data-v-5e1a3387><em data-v-5e1a3387>⚠️ Esta herramienta no sustituye la consulta médica profesional.</em></p></div>',2)),e("div",R,[e("div",{class:"col-12"},[e("button",{onClick:g,class:"btn btn-primary btn-lg w-100 py-3"},[...s[3]||(s[3]=[e("i",{class:"bi bi-person-heart me-2"},null,-1),u(" Acceder como Paciente ",-1),e("div",{class:"small mt-1"},"Diagnóstico preliminar",-1)])])]),e("div",T,[o.value?r("",!0):(a(),t("button",{key:0,onClick:s[0]||(s[0]=c=>o.value=!0),class:"btn btn-outline-secondary btn-lg w-100 py-3"},[...s[4]||(s[4]=[e("i",{class:"bi bi-shield-lock me-2"},null,-1),u(" Acceso Administrativo ",-1),e("div",{class:"small mt-1"},"Personal médico autorizado",-1)])])),o.value?(a(),t("div",$,[s[5]||(s[5]=e("h5",{class:"mb-3"},"Acceso Administrativo",-1)),e("form",{onSubmit:C(_,["prevent"])},[e("div",H,[V(e("input",{type:"password",class:"form-control",placeholder:"Contraseña (admin)","onUpdate:modelValue":s[1]||(s[1]=c=>d.value=c),required:""},null,512),[[A,d.value]])]),e("div",U,[e("button",{type:"submit",class:"btn btn-primary flex-fill",disabled:n.value},[n.value?(a(),t("span",J)):(a(),t("span",G,"Ingresar"))],8,F),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[2]||(s[2]=c=>o.value=!1)}," Cancelar ")]),i.value?(a(),t("p",K,b(i.value),1)):r("",!0)],32)])):r("",!0),e("div",O,[L(y,{class:"small",to:"/register"},{default:N(()=>[...s[6]||(s[6]=[u("¿No tienes cuenta? Regístrate",-1)])]),_:1})])])]),v.value?(a(),t("div",Q,[e("button",{class:"btn btn-sm btn-outline-danger",onClick:f},"Cerrar sesión"),e("div",W,"Sesión activa: "+b(v.value.role),1)])):r("",!0)])])])])])}}}),ee=B(X,[["__scopeId","data-v-5e1a3387"]]);export{ee as default};
